

<div class = "container-fluid">
    <h2 style = "text-align:center;">Customer Form</h2> 
    <form [formGroup] = "customerForm" (ngSubmit) = "addDelivery()">
        {{customerForm.value | json}}
        <div class = "form-group"  >
            <label>Name</label>

            <input type = "text" class = "form-control" formControlName = "name"
            [class.is-invalid] = "name.invalid && name.touched"> 

            <small class = "text-danger" *ngIf = "name.invalid && name.touched" >Name is required</small>
           
        </div>

        <div class = "form-group">
            <label>ID</label>

            <input type = "text" class = "form-control" formControlName = "id"
            [class.is-invalid] = "id.invalid && id.touched"> 

            <div *ngIf = "id.invalid && id.touched"> 
                
                <small class = "text-danger" *ngIf = "id.errors?.required"> Id is required </small>

                <small class = "text-danger" *ngIf = "id.errors?.minlength || id.errors?.maxlength ">
                     Id must be 9 numbers </small>

            </div>
        </div>

       

        <div class="form-group">
            <label>Store</label>
            
            <select  class="custom-select" formControlName = "store"
            [class.is-invalid] = "store.touched && store.invalid">
             
              <option value = "default"> Select Store</option>
              <option *ngFor= "let stor of stores"  > {{stor}} </option>
            </select>

            <small class = "text-danger" *ngIf = "store.errors?.defaultValue && store.touched"> Store must be chosen </small>


        </div>

        

        <div class = "form-group">
            <label>Delivered Date</label>
            <input type = "date" class = "form-control"  formControlName = "date"
            [class.is-invalid] = "date.touched && date.invalid"> 

            <div *ngIf = "date.touched && date.invalid"> 

                <small class = "text-danger" *ngIf = "date.errors?.defaultValue && date.touched"> Date required </small>

                <small class = "text-danger" *ngIf = "date.errors?.maxlength && date.touched"> Year must be 4 digits </small>

              


            </div>
        </div>

        
        <div formGroupName = "deliveryItems" class = "Items">
            <div class="form-group">
                <label >Good</label>
                <input type="text" class="form-control"  formControlName = "good"
                [class.is-invalid] = "good.touched && good.invalid">
              
                <small class = "text-danger"
                 *ngIf = "good.touched && good.invalid"> Good is required </small>
            </div>

            <div class="form-group">
                <label>Qty</label>
                <input type="text" class="form-control" formControlName = "qty"
                [class.is-invalid] = "qty.touched && qty.invalid">

                <div *ngIf = "qty.touched && qty.invalid"> 
    
                    <small class = "text-danger" *ngIf = "qty.errors?.notNumber"> {{qty.errors?.notNumber.value}} is not a number </small>

                    <small class = "text-danger" *ngIf = "qty.errors?.zeroNumber && qty.value.length != 0 "> Qty cannot be zero </small>
               
                    <small class = "text-danger" *ngIf = "qty.errors?.required"> Qty is required </small>
                </div>
            </div>


            <div class="form-group">
                <label >Price</label>
                <input type="text" class="form-control" formControlName = "price"
                [class.is-invalid] = "price.touched && price.invalid">

                <div *ngIf = "price.touched && price.invalid"> 
    
                    <small class = "text-danger" *ngIf = "price.errors?.notNumber"> {{price.errors?.notNumber.value}} is not a number </small>

                    <small class = "text-danger" *ngIf = "price.errors?.zeroNumber && price.value.length != 0 "> Price cannot be zero </small>
               
                    <small class = "text-danger" *ngIf = "price.errors?.required"> Price is required </small>
                </div>

            </div>
        </div>

        <div class = "buttons" > 
            <button class="btn btn-secondary" type ="button"> Add more Goods</button>
            <button [disabled] = "!customerForm.valid"  class = "submitButton"  type = "submit">Add Order</button>
        </div>

    </form> 
</div>